---
model: post
title: M001 - MongoDB Basics Notes
description: Some notes of the course M001 - MongoDB from MongoDB University
author: Dante Calderón
pathPrefix: blog
slug: m001-mongodb-basic-notes
image: ../images/mongodb_1.png
date: '2022-01-20T00:19:00.000Z'
published: true
tags:
  - mongodb
  - nodejs
---

## Chapter 1: **What is MongoDB?**

MongoDB is a NoSQL database.

A NoSQL Database is a database that is structured and can be accessed in a different way to SQL databases, it doesn’t use a legacy approach of related tables of data, not in rows and columns.

- The data in MongoDB DB is stored in Documents.

- Documents are stored in Collections.

<div class="mdx-image-container with-border wone g1" style="max-width: 540px; border-color: red;">

![{320x300} Image description](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/5fdfcc2b-de21-4cac-b680-7ecc09b72d35/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=19e9a3b54d1a3d04509ada4b30bda5ea854d3aa0146bc929b176fa4d6063ac57&X-Amz-SignedHeaders=host&x-id=GetObject)

</div>

![](https://scontent.flim16-1.fna.fbcdn.net/v/t39.30808-6/272301214_4756463134454427_827967952490570411_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=8bfeb9&_nc_ohc=gQIcM6opuucAX8s9k28&_nc_ht=scontent.flim16-1.fna&oh=00_AT92-X4tYR_DjXvKuROD3Bx4pP8uLPmyzfQoIxFVVeqiaw&oe=61F186D7)

![Image Description](https://images.unsplash.com/photo-1638913970895-d3df59be1466?ixlib=rb-1.2.1&q=85&fm=jpg&crop=entropy&cs=srgb)

## What is a Document?

Is a way to organize and store data as a set of **field-value** pairs.

*Field* - a unique identifier for a data point.

*Value* - data related to a given identifier.

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/11369bd2-12fb-43d4-8e21-448eef5c7913/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=a86a9a8141c3f534431846e4507674a022b6d8d96f37270460cc492141f17d19&X-Amz-SignedHeaders=host&x-id=GetObject)

### What is a Collection?

An organized store of documents in MongoDB, usually with common fields between documents.

There can be many collections per-database and many documents per collection.

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/54866520-98f9-4978-bac4-e24b8971acc1/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=e6804f56f3328c917ed6f91423eb41a9665cf2db088fb78f0e0e4eee6d9bf3df&X-Amz-SignedHeaders=host&x-id=GetObject)

### What is MongoDB Atlas?

Atlas is a cloud service that provides a fully managed database built for a range-wide of applications with MongoDB at its core.

It allows you to visualize, export, and more.

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/76751fdf-bd93-455b-9060-d3219325984b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=9e9b9a503e49ef0ddd9c08e96a93244daad8ea6e7b43c54c910efc706fba6277&X-Amz-SignedHeaders=host&x-id=GetObject)

### Cluster Deployment

Atlas users can deploy Clusters.

*Cluster* - group of servers that store your data.

These Clusters are configured in Replica Set.

![On the left a Cluster, on the right a Replica Set](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/3b397aa8-d4be-448f-a600-f7aa6f485aa4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=505066c92762e9abfeaed0d4274a040e3bc4edebc23370e947870918be8b0e12&X-Amz-SignedHeaders=host&x-id=GetObject)

*Replica Set* - a few connected MongoDB instances that store the same data to ensure that if something happens to one of the machines the data will remain intact. Comes from the word replicate - to copy something.

The major difference between a replica set and a cluster is:

- A replica set copies the data set as a whole.

- A cluster distributes the workload and stores pieces of data (shards) across multiple servers.

MongoDB allows users to combine these two functionalities by creating a **sharded cluster**, where each shard is replicated to a secondary server in order to provide high data availability and redundancy.

*Instance* - a single machine locally or in the cloud, running certain software, in our case it is the MongoDB database.

![An Instance is a single machine](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f0ee2777-6484-4f0f-b97e-9b6257dea19b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=5eb69c1a5dee6b467140db135154188e535e0907f3173e258de4ad3bb8916d32&X-Amz-SignedHeaders=host&x-id=GetObject)

This setup ensures that if something happened to one of the machines in the Replica Set, the data will remain intact and available for use by the application by the remaining working member.

![One of the machines in the Replica Set is failing](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/db9140d4-ad84-4a9d-9526-0c537519df59/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=f79f11f24479aad8188874b4bb7f0a4479efb7ca49aaf8b1be2c778d9a7bfb71&X-Amz-SignedHeaders=host&x-id=GetObject)

Every time that you make a change to a document or collection, redundant copies of that data are stored within the replica set.

It means a copy of that document will exist on every machine in the Replica Set.

&gt; ℹ️ To go deeper about ReplicaSet and Clusters, you can check this answer in StackOverflow: [What is the difference between a cluster and a replica set in MongoDB atlas?](https://stackoverflow.com/a/61661650/8112431)

**Services**

- Managed cluster creation

- Run and maintain database deployment

- Use the cloud provider of your choice

- Experiment with new tools and features

**Pricing**

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/708146c0-bea7-4c64-b356-c309ac379f06/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=d2f8ab4aa0ae49ea8d2f1ee7e2b51ae132cdef58a4decbdd02f09e3d9566c245&X-Amz-SignedHeaders=host&x-id=GetObject)

**Some free tier features**

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/4fffcd58-6ac7-4be6-88f0-bc662aa1e797/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=56ee9d29f56e96bcae1a9a7873bc90594a201e8c0337c5fc4401aebcb2c0d55c&X-Amz-SignedHeaders=host&x-id=GetObject)

**Useful Links**:

- [MongoDB Replication: A Complete Introduction](https://www.bmc.com/blogs/mongodb-replication/)

## Chapter 2: Importing, Exporting, and Querying Data

### How documents are represented?

Documents are saved as BSON which is a binary representation of JSON.

![A document JSON](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/ee9bec4d-c467-49da-ba5c-aff9c7866511/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=7774f15e307303276e9fc87ab4a871c316cbb325e9e554862f4fb5161b7123e8&X-Amz-SignedHeaders=host&x-id=GetObject)

JSON is:

- User friendly

- Readable

- Familiar

Cons of JSON:

- Text-based

- Space Consuming

- Limited number of data types.

BSON is optimized for:

- Speed

- Space

- Flexibility

- High performance

- General-purpose focus

![JSON vs BSON](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/7a678f40-4e5d-4c7c-9b1c-51ab44b522f2/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=c1bacd09ce8e8d9f82fe80c2f2e25ee510658dd5b8e904670a3730ab804d5135&X-Amz-SignedHeaders=host&x-id=GetObject)

The additional types in BSON allow for easing communication.

_MongoDB stores data in BSON internally and over the network, but this doesn’t mean you can’t think of MongoDB as a JSON Database._

_Anything you can represent in JSON can also be stored in MongoDB._

_We can retrieve and store data as JSON. Actually, with native SDK always use JSON, we don’t think about BSON, it’s just an internal feature that in our day-to-day we never think of._

Optional reading:

- [JSON vs BSON](https://www.mongodb.com/json-and-bson)

- [Read more about BSON](http://bsonspec.org/)

### Importing and Exporting Data

&gt; Data is Stored in **BSON** but Viewed in **JSON
&gt;BSON** is great but isn’t human-readable

To learn more about other &#x60;mongoimport&#x60; supported formats [check out this documentation page](https://docs.mongodb.com/manual/reference/program/mongoimport/#compatibility).

*SRV connection string* - a specific format used to establish a connection between your application and a MongoDB instance. [Click here to learn more.](https://docs.mongodb.com/manual/reference/connection-string/#connections-dns-seedlist)

Code used in this lecture:

&#x60;&#x60;&#x60;bash
mongodump --uri &quot;mongodb+srv:&#x2F;&#x2F;&lt;your username&gt;:&lt;your password&gt;@&lt;your cluster&gt;.mongodb.net&#x2F;sample_supplies&quot;

mongoexport --uri&#x3D;&quot;mongodb+srv:&#x2F;&#x2F;&lt;your username&gt;:&lt;your password&gt;@&lt;your cluster&gt;.mongodb.net&#x2F;sample_supplies&quot; --collection&#x3D;sales --out&#x3D;sales.json

mongorestore --uri &quot;mongodb+srv:&#x2F;&#x2F;&lt;your username&gt;:&lt;your password&gt;@&lt;your cluster&gt;.mongodb.net&#x2F;sample_supplies&quot; --drop dump

mongoimport --uri&#x3D;&quot;mongodb+srv:&#x2F;&#x2F;&lt;your username&gt;:&lt;your password&gt;@&lt;your cluster&gt;.mongodb.net&#x2F;sample_supplies&quot; --drop sales.json

&#x60;&#x60;&#x60;

**Terminal Commands**

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/fa1d0097-085a-471a-b01d-ffac625056d4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=416ba16e45059ae0704624aa9e8f7eb343ec4507d86d83f04c1efcb88ae27d80&X-Amz-SignedHeaders=host&x-id=GetObject)

**Exporting**

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/9c43a443-ba49-498c-8525-0dd2734e3179/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=5f9768a30de6228e42d14a4ab06d82321a67d29b4a1e857f44da318add5235ec&X-Amz-SignedHeaders=host&x-id=GetObject)

**Importing**

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/c7ec50a1-e206-40b7-8ed8-05d1f1c52c67/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=c009a6b285a9226349c7e485be7ee2b0fcc7824b53631732d1a62250fe7ff1d6&X-Amz-SignedHeaders=host&x-id=GetObject)

### Data Explorer

&#x60;mongosh&#x60; allows you to interact with your MongoDB instance without using a Graphical User Interface

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/2b89faf6-cf9c-4ebf-9ba6-8633ea40da55/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220123T062532Z&X-Amz-Expires=3600&X-Amz-Signature=7c8432b6fc2ede7d56fe6a22444e311938fe6fc7a6a0b5004a60306ddc2e0806&X-Amz-SignedHeaders=host&x-id=GetObject)

## **Chapter 3: Creating and Manipulating Documents**

### Inserting New Documents - ObjectId

Every document must have a **unique** &#x60;\_id&#x60; value.
